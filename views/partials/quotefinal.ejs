<!DOCTYPE html>
<div ng-controller="finalQuoteCtrl" ng-init='customer=<%- JSON.stringify(customer) %>;quote=<%- JSON.stringify(quote) %>; products=<%- JSON.stringify(products) %>; materials=<%- JSON.stringify(materials) %>'>
	<div id="page-wrap">

		<textarea id="header">INVOICE</textarea
}
}
>		
		<div id="identity">
		
            <textarea id="address">{{customer.lastName}}, {{customer.firstName}}
{{customer.addressLine1}} {{customer.addressLine2}}
{{customer.city}}, {{customer.province}} {{customer.postal}}

Phone: {{customer.homePhone}}</textarea>

            <div id="logo">

              <div id="logoctr">
                <a href="javascript:;" id="change-logo" title="Change logo">Change Logo</a>
                <a href="javascript:;" id="save-logo" title="Save changes">Save</a>
                |
                <a href="javascript:;" id="delete-logo" title="Delete logo">Delete Logo</a>
                <a href="javascript:;" id="cancel-logo" title="Cancel changes">Cancel</a>
              </div>

              <div id="logohelp">
                <input id="imageloc" type="text" size="50" value="" /><br />
                (max width: 540px, max height: 100px)
              </div>
              <img id="image" src="images/logo.png" alt="logo" />
            </div>
		
		</div>
		
		<div style="clear:both"></div>
		
		<div id="customer">

            <textarea id="customer-title">{{customer.companyName}}</textarea>

            <table id="meta">
                <tr>
                    <td class="meta-head">Invoice #</td>
                    <td><textarea>{{quote.quoteID}}</textarea></td>
                </tr>
                <tr>

                    <td class="meta-head">Date</td>
                    <td><textarea id="date">{{quote.createdAt | limitTo: 10}}</textarea></td>
                </tr>
                <!--<tr>
                    <td class="meta-head">Amount Due</td>
                    <td><div class="due">$875.00</div></td>
                </tr>-->

            </table>
		
		</div>
		
		<quote-table rows='rows'><quote-table>

		<br>

		<table class="table table-hover table-bordered">
		  	<thead id="items">
		      <th>Item</th>
		      <th>Description</th>
		      <th>Unit Cost</th>
		      <th>Quantity</th>
		      <th>Price</th>
		  </thead>
		    <tbody>
		    <tr ng-repeat="counter in quote.counters | flattenRows">
				<td class="item-name">{{counter.material.description}}<span class="label label-info" ng-show="counter.addon">Addon</span></td>
			    <td class="description"><textarea>{{counter.description}}</textarea></td>
			    <td><textarea class="cost"></textarea></td>
			    <td><textarea class="qty">{{counter.quantity}}</textarea></td>
			    <td><span class="price">{{counter.totalPrice | currency: $}}</span></td>
			</tr>
			<tr>
		    	<td colspan="3" class="blank"> </td>
		    	<td colspan="1" class="total-line">Subtotal</td>
		    	<td class="total-value"><div id="subtotal">$875.00</div></td>
		  	</tr>
		  <tr>

		      <td colspan="3" class="blank"> </td>
		      <td colspan="1" class="total-line">Total</td>
		      <td class="total-value"><div id="total">$875.00</div></td>
		  </tr>
		  <tr>
		      <td colspan="3" class="blank"> </td>
		      <td colspan="1" class="total-line">Amount Paid</td>

		      <td class="total-value"><textarea id="paid">$0.00</textarea></td>
		  </tr>
		  <tr>
		      <td colspan="3" class="blank"> </td>
		      <td colspan="1" class="total-line balance">Balance Due</td>
		      <td class="total-value balance"><div class="due">$875.00</div></td>
		  </tr>
		    </tbody>

<!--		<tr ng-repeat="counter in quote.counters track by $index" class="item-row">
			      <td class="item-name"><div class="delete-wpr"><textarea>{{counter.material.description}}</textarea></div></td>

			      <td class="description"><textarea>{{counter.description}}</textarea></td>
			      <td><textarea class="cost"></textarea></td>
			      <td><textarea class="qty">{{counter.quantity}}</textarea></td>
			      <td><span class="price">{{counter.totalPrice | currency: $}}</span></td>
		</tr>
		  </div>
		  <tr id="hiderow">
		    <td colspan="5"><a id="addrow" href="javascript:;" title="Add a row">Add a row</a></td>
		  </tr>-->
		
		</table>
		
		<div id="terms">
		  <h5>Terms</h5>
		  <textarea>NET 30 Days. Finance Charge of 1.5% will be made on unpaid balances after 30 days.</textarea>
		</div>
	
	</div>
</div>